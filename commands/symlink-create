#!/usr/bin/env bash

# TODO: if regular src > prompt user overwrite??? yes/no

src=$1
dst=$2
force=$3

# echo "src = $src"
# echo "dst = $dst"

# link already exists
if test -L $dst; then
    echo-color "@b@blue[[ Re-linking: $src -> $dst ]]"
    rm -rf $dst # be carefull;
    ln -s "$src" "$dst"


# link destination is file/dir
elif [ -d $dst ] || [ -f $dst ]; then
    echo-color "@b@red[[ Cannot link: \`$dst\` is a regular file/dir and needs to be removed manually first... ]]"


# nothin... do symlinkg
else
    echo-color "@b@green[[ Symlinking: $src -> $dst ]]"
    # mkdir -p "$(dirname "$dst")"
    ln -s "$src" "$dst"
fi
