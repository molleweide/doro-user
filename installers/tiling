#!/usr/bin/env bash

source "${BASH_SOURCE%/*}/shared.sh"

# TILING AND WINDOW MANAGEMENT
# https://www.notion.so/Yabai-8da3b829872d432fac43181b7ff628fc
# - prereq?? brew install jq

function install_limelight() {
  local url="https://github.com/koekeishiya/limelight.git"
  local dest=$HOME/code/limelight

  git clone $url $destination
  pushd $dest> /dev/null 2>&1
  make
  popd $dest> /dev/null 2>&1

  # custom link from outside dots
  ln -s $dest/bin/limelight /usr/local/bin/limelight
  symlink_dotfile limelight ~/.config/limelight
}

# https://github.com/AdamWagner/stackline
function install_stackline() {
  local url="https://github.com/AdamWagner/stackline.git"

  # actually it seems i only have to clone the
  # projct and symlink. easy
}


if is_macos; then
  require_installer package-manager

  brew_tap koekeishiya/formulae
  brew_install yabai

  brew_tap koekeishiya/formulae
  brew_install skhd

  # fork and look into he code myself
  install_limelight

  # uebersicht yabai

  # stackline

  brew services start skhd
  brew services start yabai

  symlink_dotfile skhdrc ~/.skhdrc
  symlink_dotfile yabairc ~/.yabairc
fi


